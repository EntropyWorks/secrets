function buttonInit(){var t=new Clipboard(".button_content_copy");t.on("success",function(t){t.trigger.textContent="Copied!",t.trigger.disabled=!0,t.clearSelection()}),t.on("error",function(t){t.trigger.textContent="Can't copy :(",t.trigger.disabled=!0})}function formInit(){function t(){var t=document.getElementById("text").value,e=document.getElementById("time").value,n=document.getElementById("pin").value;API.send(e,t,n,function(t){var e=location.protocol+"//"+location.host+"/show/"+t.key,n=document.getElementById("result__info");n.value=e,n.focus(),n.select()})}function e(){var t=document.getElementById("pin").value,e=location.pathname.replace("/show/","");API.get(e,t,function(t){var e=document.getElementById("result__info");document.getElementById("result__tip").textContent="Here is your info:",e.value=t.message,e.focus(),e.select()},function(){var t=document.getElementById("result__tip");t.classList.add("result__tip_error"),t.textContent="Sorry, but your PIN is wrong."})}new FForm(document.getElementById("fs-form"),{onReview:location.pathname.indexOf("show")>0?e:t})}function getCharCode(t){return t.which?t.which:t.keyCode}function isButtonNumber(t){return!(t<48||t>57)}function pinCheck(t){var e=getCharCode(t);if(!isButtonNumber(e)||t.target.value.length+1>API.params.pin_size)return void t.preventDefault()}function numberCheck(t){var e=getCharCode(t);if(!isButtonNumber(e))return void t.preventDefault()}function numInputsInit(){for(var t=document.querySelectorAll(".input_type_pin"),e=document.querySelectorAll(".input_type_number"),n=t.length-1;n>=0;n--)t[n].addEventListener("keypress",pinCheck);for(var n=e.length-1;n>=0;n--)e[n].addEventListener("keypress",numberCheck)}window.Modernizr=function(t,e,n){function r(t){g.cssText=t}function i(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var r in t){var i=t[r];if(!o(i,"-")&&g[i]!==n)return"pfx"!=e||i}return!1}function a(t,e,r){for(var o in t){var s=e[t[o]];if(s!==n)return r===!1?t[o]:i(s,"function")?s.bind(r||e):s}return!1}function c(t,e,n){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+E.join(r+" ")+r).split(" ");return i(e,"string")||i(e,"undefined")?s(o,e):(o=(t+" "+w.join(r+" ")+r).split(" "),a(o,e,n))}var l,u,d,f="2.8.3",p={},h=!0,m=e.documentElement,v="modernizr",y=e.createElement(v),g=y.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),_="Webkit Moz O ms",E=_.split(" "),w=_.toLowerCase().split(" "),S={},C=[],x=C.slice,N=function(t,n,r,i){var o,s,a,c,l=e.createElement("div"),u=e.body,d=u||e.createElement("body");if(parseInt(r,10))for(;r--;)a=e.createElement("div"),a.id=i?i[r]:v+(r+1),l.appendChild(a);return o=["&#173;",'<style id="s',v,'">',t,"</style>"].join(""),l.id=v,(u?l:d).innerHTML+=o,d.appendChild(l),u||(d.style.background="",d.style.overflow="hidden",c=m.style.overflow,m.style.overflow="hidden",m.appendChild(d)),s=n(l,t),u?l.parentNode.removeChild(l):(d.parentNode.removeChild(d),m.style.overflow=c),!!s},L={}.hasOwnProperty;d=i(L,"undefined")||i(L.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return L.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=x.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=e.prototype;var o=new i,s=e.apply(o,n.concat(x.call(arguments)));return Object(s)===s?s:o}return e.apply(t,n.concat(x.call(arguments)))};return r}),S.cssanimations=function(){return c("animationName")};for(var T in S)d(S,T)&&(u=T.toLowerCase(),p[u]=S[T](),C.push((p[u]?"":"no-")+u));return p.addTest=function(t,e){if("object"==typeof t)for(var r in t)d(t,r)&&p.addTest(r,t[r]);else{if(t=t.toLowerCase(),p[t]!==n)return p;e="function"==typeof e?e():e,"undefined"!=typeof h&&h&&(m.className+=" "+(e?"":"no-")+t),p[t]=e}return p},r(""),y=l=null,function(t,e){function n(t,e){var n=t.createElement("p"),r=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var t=g.elements;return"string"==typeof t?t.split(" "):t}function i(t){var e=y[t[m]];return e||(e={},v++,t[m]=v,y[v]=e),e}function o(t,n,r){if(n||(n=e),u)return n.createElement(t);r||(r=i(n));var o;return o=r.cache[t]?r.cache[t].cloneNode():h.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t),!o.canHaveChildren||p.test(t)||o.tagUrn?o:r.frag.appendChild(o)}function s(t,n){if(t||(t=e),u)return t.createDocumentFragment();n=n||i(t);for(var o=n.frag.cloneNode(),s=0,a=r(),c=a.length;s<c;s++)o.createElement(a[s]);return o}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return g.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(g,e.frag)}function c(t){t||(t=e);var r=i(t);return g.shivCSS&&!l&&!r.hasCSS&&(r.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||a(t,r),t}var l,u,d="3.7.0",f=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",v=0,y={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",l="hidden"in t,u=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(n){l=!0,u=!0}}();var g={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:f.shivCSS!==!1,supportsUnknownElements:u,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:c,createElement:o,createDocumentFragment:s};t.html5=g,c(e)}(this,e),p._version=f,p._prefixes=b,p._domPrefixes=w,p._cssomPrefixes=E,p.testProp=function(t){return s([t])},p.testAllProps=c,p.testStyles=N,p.prefixed=function(t,e,n){return e?c(t,e,n):c(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+C.join(" "):""),p}(this,this.document),function(t,e,n){function r(t){return"[object Function]"==v.call(t)}function i(t){return"string"==typeof t}function o(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=y.shift();g=1,t?t.t?h(function(){("c"==t.t?f.injectCss:f.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):g=0}function c(t,n,r,i,o,c,l){function u(e){if(!p&&s(d.readyState)&&(b.r=p=1,!g&&a(),d.onload=d.onreadystatechange=null,e)){"img"!=t&&h(function(){E.removeChild(d)},50);for(var r in N[n])N[n].hasOwnProperty(r)&&N[n][r].onload()}}var l=l||f.errorTimeout,d=e.createElement(t),p=0,v=0,b={t:r,s:n,e:o,a:c,x:l};1===N[n]&&(v=1,N[n]=[]),"object"==t?d.data=n:(d.src=n,d.type=t),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,v)},y.splice(i,0,b),"img"!=t&&(v||2===N[n]?(E.insertBefore(d,_?null:m),h(u,l)):N[n].push(d))}function l(t,e,n,r,o){return g=0,e=e||"j",i(t)?c("c"==e?S:w,t,e,this.i++,n,r,o):(y.splice(this.i++,0,t),1==y.length&&a()),this}function u(){var t=f;return t.loader={load:l,i:0},t}var d,f,p=e.documentElement,h=t.setTimeout,m=e.getElementsByTagName("script")[0],v={}.toString,y=[],g=0,b="MozAppearance"in p.style,_=b&&!!e.createRange().compareNode,E=_?p:m.parentNode,p=t.opera&&"[object Opera]"==v.call(t.opera),p=!!e.attachEvent&&!p,w=b?"object":p?"script":"img",S=p?"script":w,C=Array.isArray||function(t){return"[object Array]"==v.call(t)},x=[],N={},L={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};f=function(t){function e(t){var e,n,r,t=t.split("!"),i=x.length,o=t.pop(),s=t.length,o={url:o,origUrl:o,prefixes:t};for(n=0;n<s;n++)r=t[n].split("="),(e=L[r.shift()])&&(o=e(o,r));for(n=0;n<i;n++)o=x[n](o);return o}function s(t,i,o,s,a){var c=e(t),l=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(i&&(i=r(i)?i:i[t]||i[s]||i[t.split("/").pop().split("?")[0]]),c.instead?c.instead(t,i,o,s,a):(N[c.url]?c.noexec=!0:N[c.url]=1,o.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(r(i)||r(l))&&o.load(function(){u(),i&&i(c.origUrl,a,s),l&&l(c.origUrl,a,s),N[c.url]=2})))}function a(t,e){function n(t,n){if(t){if(i(t))n||(d=function(){var t=[].slice.call(arguments);f.apply(this,t),p()}),s(t,d,e,0,l);else if(Object(t)===t)for(c in a=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(c)&&(!n&&!--a&&(r(d)?d=function(){var t=[].slice.call(arguments);f.apply(this,t),p()}:d[c]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),p()}}(f[c])),s(t[c],d,e,c,l))}else!n&&p()}var a,c,l=!!t.test,u=t.load||t.both,d=t.callback||o,f=d,p=t.complete||o;n(l?t.yep:t.nope,!!u),u&&n(u)}var c,l,d=this.yepnope.loader;if(i(t))s(t,0,d,0);else if(C(t))for(c=0;c<t.length;c++)l=t[c],i(l)?s(l,0,d,0):C(l)?f(l):Object(l)===l&&a(l,d);else Object(t)===t&&a(t,d)},f.addPrefix=function(t,e){L[t]=e},f.addFilter=function(t){x.push(t)},f.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",d=function(){e.removeEventListener("DOMContentLoaded",d,0),e.readyState="complete"},0)),t.yepnope=u(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,n,r,i,c,l){var u,d,p=e.createElement("script"),i=i||f.errorTimeout;p.src=t;for(d in r)p.setAttribute(d,r[d]);n=l?a:n||o,p.onreadystatechange=p.onload=function(){!u&&s(p.readyState)&&(u=1,n(),p.onload=p.onreadystatechange=null)},h(function(){u||(u=1,n(1))},i),c?p.onload():m.parentNode.insertBefore(p,m)},t.yepnope.injectCss=function(t,n,r,i,s,c){var l,i=e.createElement("link"),n=c?a:n||o;i.href=t,i.rel="stylesheet",i.type="text/css";for(l in r)i.setAttribute(l,r[l]);s||(m.parentNode.insertBefore(i,m),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("csscalc",function(){var t="width:",e="calc(10px);",n=document.createElement("div");return n.style.cssText=t+Modernizr._prefixes.join(e+t),!!n.style.length}),Modernizr.addTest("cssvhunit",function(){var t;return Modernizr.testStyles("#modernizr { height: 50vh; }",function(e,n){var r=parseInt(window.innerHeight/2,10),i=parseInt((window.getComputedStyle?getComputedStyle(e,null):e.currentStyle).height,10);t=i==r}),t});var API=function(){var t=this,e="https://safesecret.info/api/v1/",n=e+"message",r=e+"params";return this.send=function(t,e,r,i){var o=new XMLHttpRequest,s=JSON.stringify({exp:60*new Number(t),message:new String(e),pin:new String(r)});o.open("POST",n,!0),o.onreadystatechange=function(){4==o.readyState&&"function"==typeof i&&201==o.status&&i(JSON.parse(o.responseText))},o.send(s)},this.get=function(t,e,r,i){var o=new XMLHttpRequest;o.open("GET",[n,t,e].join("/"),!0),o.onreadystatechange=function(){4==o.readyState&&"function"==typeof r&&(200==o.status?r(JSON.parse(o.responseText)):i(JSON.parse(o.responseText)))},o.send()},this._getParams=function(){var e=new XMLHttpRequest;e.open("GET",r,!0),e.onreadystatechange=function(){4==e.readyState&&200==e.status&&(t.params=JSON.parse(e.responseText))},e.send()},this.params={pin_size:5,max_pin_attempts:3,max_exp_sec:86400},this._getParams(),this}();"loading"!=document.readyState?buttonInit():document.addEventListener("DOMContentLoaded",buttonInit),function(t){"use strict";function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function n(t,e){var n=r(t,e)?o:i;n(t,e)}var r,i,o;"classList"in document.documentElement?(r=function(t,e){return t.classList.contains(e)},i=function(t,e){for(var n=[].concat(e.split(" ")),r=n.length-1;r>=0;r--)t.classList.add(n[r])},o=function(t,e){t.classList.remove(e)}):(r=function(t,n){return e(n).test(t.className)},i=function(t,e){r(t,e)||(t.className=t.className+" "+e)},o=function(t,n){t.className=t.className.replace(e(n)," ")});var s={hasClass:r,addClass:i,removeClass:o,toggleClass:n,has:r,add:i,remove:o,toggle:n};"function"==typeof define&&define.amd?define(s):t.classie=s}(window),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r=t("matches-selector");e.exports=function(t,e,n){for(var i=n?t:t.parentNode;i&&i!==document;){if(r(i,e))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function r(t,e,n,r,o){var s=i.apply(this,arguments);return t.addEventListener(n,s,o),{destroy:function(){t.removeEventListener(n,s,o)}}}function i(t,e,n,r){return function(n){n.delegateTarget=o(n.target,e,!0),n.delegateTarget&&r.call(t,n)}}var o=t("closest");e.exports=r},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,n){function r(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return i(t,e,n);if(a.nodeList(t))return o(t,e,n);if(a.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return c(document.body,t,e,n)}var a=t("./is"),c=t("delegate");e.exports=r},{"./is":3,delegate:2}],5:[function(t,e,n){function r(t,e){if(o)return o.call(t,e);for(var n=t.parentNode.querySelectorAll(e),r=0;r<n.length;++r)if(n[r]==t)return!0;return!1}var i=Element.prototype,o=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=r},{}],6:[function(t,e,n){function r(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n.removeAllRanges(),n.addRange(r),e=n.toString()}return e}e.exports=r},{}],7:[function(t,e,n){function r(){}r.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;i>r;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,s=r.length;s>o;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},e.exports=r},{}],8:[function(e,n,r){!function(i,o){if("function"==typeof t&&t.amd)t(["module","select"],o);else if("undefined"!=typeof r)o(n,e("select"));else{var s={exports:{}};o(s,i.select),i.clipboardAction=s.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e){r(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i["default"])(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,i["default"])(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},s(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},{select:6}],9:[function(e,n,r){!function(i,o){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],o);else if("undefined"!=typeof r)o(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var s={exports:{}};o(s,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=s.exports}}(this,function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=i(e),u=i(n),d=i(r),f=function(t){function e(n,r){o(this,e);var i=s(this,t.call(this));return i.resolveOptions(r),i.listenClick(n),i}return a(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,d["default"])(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l["default"]({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return c("action",t)},e.prototype.defaultTarget=function(t){var e=c("target",t);return e?document.querySelector(e):void 0},e.prototype.defaultText=function(t){return c("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u["default"]);t.exports=f})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n(t,e){var n=document.createElement(t);return e&&(e.cName&&(n.className=e.cName),e.inner&&(n.innerHTML=e.inner),e.appendTo&&e.appendTo.appendChild(n)),n}function r(t,n){this.el=t,this.options=e({},this.options),e(this.options,n),this._init()}var i={animations:Modernizr.cssanimations},o={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},s=o[Modernizr.prefixed("animation")];r.prototype.options={ctrlProgress:!0,ctrlNavDots:!0,ctrlNavPosition:!0,onReview:function(){return!1}},r.prototype._init=function(){this.formEl=this.el.querySelector(".fs-form__content"),this.fieldsList=this.formEl.querySelector("ol.fields"),this.current=0,this.fields=[].slice.call(this.fieldsList.children),this.fieldsCount=this.fields.length,classie.add(this.fields[this.current],"field field_current"),this._addControls(),this._addErrorMsg(),this._initEvents()},r.prototype._addControls=function(){if(this.ctrls=n("div",{cName:"controls",appendTo:this.el}),this.ctrlContinue=n("button",{cName:"button button_content_continue",inner:"Continue",appendTo:this.ctrls}),this._showCtrl(this.ctrlContinue),this.options.ctrlNavDots){this.ctrlNav=n("nav",{cName:"nav-dots",appendTo:this.ctrls});for(var t="",e=0;e<this.fieldsCount;++e)t+=e===this.current?'<button class="nav-dots__item nav-dots__item_current"></button>':'<button class="nav-dots__item" disabled></button>';this.ctrlNav.innerHTML=t,this._showCtrl(this.ctrlNav),this.ctrlNavDots=[].slice.call(this.ctrlNav.children)}this.options.ctrlNavPosition&&(this.ctrlFldStatus=n("span",{cName:"numbers",appendTo:this.ctrls}),this.ctrlFldStatusCurr=n("span",{cName:"numbers__item numbers__item_current",inner:Number(this.current+1)}),this.ctrlFldStatus.appendChild(this.ctrlFldStatusCurr),this.ctrlFldStatusTotal=n("span",{cName:"numbers__item",inner:this.fieldsCount}),this.ctrlFldStatus.appendChild(this.ctrlFldStatusTotal),this._showCtrl(this.ctrlFldStatus)),this.options.ctrlProgress&&(this.ctrlProgress=n("div",{cName:"progress",appendTo:this.ctrls}),this._showCtrl(this.ctrlProgress))},r.prototype._addErrorMsg=function(){this.msgError=n("span",{cName:"error",appendTo:this.el})},r.prototype._initEvents=function(){var t=this;this.ctrlContinue.addEventListener("click",function(){t._nextField()}),this.options.ctrlNavDots&&this.ctrlNavDots.forEach(function(e,n){e.addEventListener("click",function(){t._showField(n)})}),document.addEventListener("keydown",function(e){if(!t.isLastStep){var n=e.keyCode||e.which,r=e.target.tagName.toLowerCase(),i=e.metaKey||e.ctrlKey;13===n&&("textarea"!==r||"textarea"===r&&i)&&(e.preventDefault(),t._nextField())}})},r.prototype._nextField=function(t){if(this.isLastStep||!this._validade()||this.isAnimating)return!1;this.isAnimating=!0,this.isLastStep=this.current===this.fieldsCount-1&&void 0===t,this._clearError();var e=this.fields[this.current];if(this.navdir=void 0!==t&&t<this.current?"prev":"next",this.current=void 0!==t?t:this.current+1,void 0===t&&(this._progress(),this.farthest=this.current),classie.add(this.fieldsList,"fields fields_"+this.navdir),classie.remove(e,"field_current"),classie.add(e,"field_hide"),!this.isLastStep){this._updateNav(),this._updateFieldNumber();var n=this.fields[this.current];classie.add(n,"field_current"),classie.add(n,"field_shown")}var r=this,o=function(t){i.animations&&this.removeEventListener(s,o),classie.remove(r.fieldsList,"fields_"+r.navdir),classie.remove(e,"field_hide"),r.isLastStep?(r._hideCtrl(r.ctrlNav),r._hideCtrl(r.ctrlProgress),r._hideCtrl(r.ctrlContinue),r._hideCtrl(r.ctrlFldStatus),classie.remove(r.formEl,"fs-form__content_full"),classie.add(r.formEl,"fs-form__content_overview"),classie.add(r.formEl,"form__content_shown"),r.options.onReview()):(classie.remove(n,"field_shown"),r.options.ctrlNavPosition&&(r.ctrlFldStatusCurr.innerHTML=r.ctrlFldStatusNew.innerHTML,r.ctrlFldStatus.removeChild(r.ctrlFldStatusNew),classie.remove(r.ctrlFldStatus,"numbers_shown-"+r.navdir)),n.querySelectorAll(".input, .textarea")[0].focus()),r.isAnimating=!1};i.animations?"next"===this.navdir?this.isLastStep?e.querySelector(".animation__upper").addEventListener(s,o):n.querySelector(".animation__lower").addEventListener(s,o):n.querySelector(".animation__upper").addEventListener(s,o):o()},r.prototype._showField=function(t){return!(t===this.current||t<0||t>this.fieldsCount-1)&&void this._nextField(t)},r.prototype._updateFieldNumber=function(){if(this.options.ctrlNavPosition){this.ctrlFldStatusNew=document.createElement("span"),this.ctrlFldStatusNew.className="numbers__item numbers__item_new",this.ctrlFldStatusNew.innerHTML=Number(this.current+1),this.ctrlFldStatus.appendChild(this.ctrlFldStatusNew);var t=this;setTimeout(function(){classie.add(t.ctrlFldStatus,"next"===t.navdir?"numbers_shown-next":"numbers_shown-prev")},25)}},r.prototype._progress=function(){this.options.ctrlProgress&&(this.ctrlProgress.style.width=this.current*(100/this.fieldsCount)+"%")},r.prototype._updateNav=function(){this.options.ctrlNavDots&&(classie.remove(this.ctrlNav.querySelector("button.nav-dots__item_current"),"nav-dots__item_current"),classie.add(this.ctrlNavDots[this.current],"nav-dots__item_current"),this.ctrlNavDots[this.current].disabled=!1)},r.prototype._showCtrl=function(t){classie.add(t,"shown")},r.prototype._hideCtrl=function(t){classie.remove(t,"shown")},r.prototype._validade=function(){var t,e=this.fields[this.current],n=e.querySelector(".input[required]")||e.querySelector(".textarea[required]");if(!n)return!0;if(0==n.value.length)t="NOVAL";else if(n.classList.contains("input_type_number")){var r=new Number(n.value),i=Math.floor(API.params.max_exp_sec/60);"-"==n.value.substr(0,1)?t="NONEG":n.value!=r.toString()?t="WRONGVAL":r>i&&(t="MAXNUM")}else n.classList.contains("input_type_pin")&&(n.value.match(/^[0-9]{5}$/)?n.value.length!=API.params.pin_size&&(t="PINSIZE"):t="WRONGVAL");return void 0==t||(this._showError(t),!1)},r.prototype._showError=function(t){var e="";switch(t){case"NOVAL":e="Please fill the field before continuing";break;case"NONEG":e="This value can't be negative";break;case"WRONGVAL":e="Please enter the valid value";break;case"MAXNUM":e="Maximum keeping time is "+Math.floor(API.params.max_exp_sec/60)+" minutes";break;case"MAXPINSIZE":e="PIN length must be "+API.params.pin_size+" symbols"}this.msgError.innerHTML=e,this._showCtrl(this.msgError)},r.prototype._clearError=function(){this._hideCtrl(this.msgError)},t.FForm=r}(window),"loading"!=document.readyState?formInit():document.addEventListener("DOMContentLoaded",formInit),"loading"!=document.readyState?numInputsInit():document.addEventListener("DOMContentLoaded",numInputsInit);